<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Faça o cadastro para participar da comunidade literária.">
    <meta name="keywords" content="cadastro, cadastre-se, cadastro do usuário">
    <meta name="author" content="Site criado por: Azazel Admetus e Kenzo_Susuna">
    <meta name="robots" content="index, follow">
    <meta name="language" content="pt-BR">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" href="../img/logo_favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../css/cadastro.css">
    <title>Narrify | Cadastro</title>
</head>
<body>
    <form action="../php/cadastro.php" method="post">
        <header>
            <h2>Cadastre-se e faça parte desta nova revolução literária</h2>
            <p>Sendo alguém cadastrado, você poderá comentar nos posts</p>
        </header>
        <section>
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" placeholder="Defina seu nome de usuário" required>

            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" placeholder="Digite seu email" required>

            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" placeholder="Crie uma senha" required>

            <button type="submit" aria-label="Finalize seu cadastro">Cadastrar</button>
        </section>
        <footer>
            <p>Já tem uma conta? <a href="login.html" aria-label="Se já possui uma conta, faça login">Faça login</a></p>
        </footer>
    </form>
    <script>
        //variáveis pra tratamento de erro
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');
        // verificação para tratamento de erro
        if (error === 'erro_cadastro') {
            alert('Ocorreu um erro ao cadastrar, tente novamente mais tarde.');
        } else if (error === 'campos_vazios') {
            alert('Por favor, preencha corretamente todos os campos.');
        } else if (error === 'email_!exists'){
            alert('Usuário inexistente. Faça o cadastro')
        }
    </script>
</body>
</html>