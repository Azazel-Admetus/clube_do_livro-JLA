<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Altere a senha do usuário.">
    <meta name="keywords" contents="alterar senha, altere sua senha, alterar senha do perfil, senha, password, perfil">
    <meta name="author" content="Site criado por: Azazel Admetus e Kenzo_Susuna">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'">
    <meta name="robots" content="index, follow">
    <meta name="language" content="pt-BR">
    <meta name="format-detection" content="telephone=no">
    <title>Alterar senha do usuário</title>
    <link rel="stylesheet" href="../css/alterar_senha.css">
</head>

<body>
    <header>
        <a href="perfil.php">
            <img id="logo-site" src="../img/logo-secundária-removebg.png" alt="Logo do clube">
        </a>
    </header>
    <form action="../php/alterar_senha.php" method="post">
        <h2>Certifique que sua senha tenha no mínimo 8 caracteres.</h2>

        <label for="nova_senha">Crie uma nova senha:</label>
        <input type="password" id="nova_senha" name="nova_senha" required>

        <label for="confirmar_senha">Confirme a senha:</label>
        <input type="password" id="confirmar_senha" name="confirmar_senha" required>

        <button type="submit">Alterar Senha</button>
    </form>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');
        if (error == 'alterar_senha') {
            alert('Erro ao tentar fazer alteração. Tente novamente.');
        } else if (error == 'senhas_diferentes') {
            alert("Senhas diferentes. Preencha ambos os campos com a mesma senha.");
        } else if(error == 'senha_curta'){
            alert("A senha precisa ter pelo menos 8 caracteres.")
        } else if(error == 'requisicao_invalida'){
            alert("Erro ao mandar formulário. Tente novamente.")
        }
    </script>
</body>

</html>